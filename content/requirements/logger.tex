% Begin Logger
\subsection{Logger}

\subitem{
    The Logger records mission data and provides mechanisms for transmission or storage by collecting telemetry, writing to storage, and/or sending data via communications links. The Logger is comprised of two submodules: Storage and Transmitt. Each submodule handles data persistence and transmission for mission telemetry and diagnostic information.
}

\subsubsection{Interfaces}
\paragraph{Inputs}
\begin{enumerate}
    \item The Logger requires configuration parameters to determine where data is logged and sent, transmission rates, and data routing policies. These parameters will inclue file storage locations and transmission rates and protocols.
    \item The Logger receives input waypoints from the Companion Computer as defined in 4.1.1.1.2.
    \item The Logger receives desired states from the Planner as defined in 4.1.1.3.2.
    \item The Logger receives the state mask from the Planner as defined in 4.1.1.3.3.
    \item The Logger receives RC inputs from the Pilot as defined in 4.1.1.1.3.
    \item The Logger receives adjustments to RC inputs from the Planner. These adjustments include trims and scaling factors of each control input.
    \item The Logger receives raw sensor data from any onboard sensors as defined in 4.1.1.3.7 or external sensors as defined in 4.1.1.1.4.
    \item The Logger receives state estimates from the Navigation as defined in 4.1.1.3.1.
    \item The Logger receives raw control outputs from the Controller as defined in 4.1.1.3.5.
    \item The Logger receives peripheral commands from the Controller as defined in 4.1.1.2.1.
    \item The Logger receives any error reports from the Planner, Navigation, and Controller as defined in 4.1.1.3.6.
\end{enumerate}
\paragraph{Outputs}
\begin{enumerate}
    \item The Logger outputs stored log files to the location defined in the configuration parameters.
    \item The Logger outputs telemetry packets transmitted via communications link as defined in the configuration parameters.
\end{enumerate}

\subsubsection{General Requirements}
\begin{enumerate}
    \item The Logger shall support logging of all generated data from onboard modules.
    \item The Logger shall support rate limiting for all logged data.
    \item The Logger shall adhere to all coding standards defined in \S X.X.X.
    \item The Logger shall use no more than 10\% of the total CPU time allocated to the onboard software system.
\end{enumerate}

\subsubsection{Storage}
\subitem{
    The Storage submodule is responsible for persisting telemetry and logs to onboard non-volatile memory,
    ensuring data is retained for later retrieval and analysis. The location and format of stored data can be defined
    via configuration parameters. However, if no configuration is provided, the Storage submodule will default to storing data in
    a predefined location in a standard format as defined in the proceeding requirements.
}

\begin{enumerate}
    \item The Storage submodule shall have default storage location of \texttt{/logs/} on onboard non-volatile memory.
    \item The Storage submodule shall default to storing data from each data stream in a \texttt{.log} file with timestamps for each entry.
    \item The Storage submodule shall support configuration parameters to define custom storage locations and file formats for all logged data.
    \item The Storage submodule shall support a sliding window of log files, based on either time duration or storage size limits defined in configuration parameters. The default shall be 4 hours and 10MB respectively.
    \item The Storage submodule shall implement a verification mechanism such as checksums or hashes for all stored data.
    \item The Storage submodule shall use no more than 5\% of the total CPU time allocated to the onboard software system.
\end{enumerate}

\subsubsection{Transmitt}
\subitem{
    The Transmitt submodule handles transmission of selected telemetry data to ground stations or
    other external systems via available communications links.
}

\begin{enumerate}
    \item The Transmitt submodule shall support transmission to up to three external systems simultaneously.
    \item The Transmitt submodule shall be support both UDP and TCP transmission protocols.
    \item The Transmitt submodule shall use no more than 5\% of the total CPU time allocated to the onboard software system.
\end{enumerate}

%%% End Logger